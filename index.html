<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Areas</title>
  <style>
    html,
    body {
      height: 100%;
      margin: 0;
      padding: 0;
    }
  </style>
</head>

<body>
  <div id="app"></div>
  <script type="module">
    import Vue from '../../node_modules/vue/dist/vue.esm.browser.js';
    import Areas from "./dist/areas.esm.js";

    const vm = new Vue({
      render: function (h) {
        return h("div", { style: "width: 80%; margin: auto; height: 80%;" }, [
          h(Areas,
            {
              ref: "areas",
              props: {
                cfg: {
                  components: [
                    { props: { text: { type: String, default: "no text provided" } }, render(h) { return h("div", this.text) }, mounted() { this.$emit("mounted") } },
                    { props: { text: { type: String, default: "no text provided" } }, render(h) { return h("div", this.text) } },
                    { render(h) { return h("div", "Hey !") } },
                  ],
                  layout: {
                    direction: "row",
                    ratios: [20, 80],
                    children: [
                      {
                        name: "comp1", // Can be used to get this specific component
                        componentIndex: 0,
                        cfg: {
                          on: {
                            mounted() {
                              console.log("Comp 1 mounted !");
                            }
                          },
                          props: {
                            text: "nothing"
                          }
                        }
                      },
                      {
                        direction: "column",
                        ratios: [40, 50, 10],
                        children: [
                          {
                            componentIndex: 1,
                            cfg: {
                              props: {
                                text: "Hey :D"
                              }
                            }
                          },
                          {
                            componentIndex: 2
                          },
                          {
                            componentIndex: null // if null, render a customizable empty component
                          },
                        ]
                      }
                    ]
                  }
                }
              }
            }
          )])
      },
    }).$mount('#app');
    vm.$refs.areas.getComponentByName("comp1").cfg.props.text = "Youhou ! =D"; // This is reactive !
  </script>
</body>

</html>